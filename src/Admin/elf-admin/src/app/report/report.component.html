<div class="container-fluid mt-3 mb-3">
    <kendo-gridlayout [gap]="{ rows: 2, cols: 3 }">
        <kendo-gridlayout-item [row]="1" [col]="1" [colSpan]="3">
            <div class="d-inline-flex">
                <kendo-daterange>
                    <kendo-dateinput kendoDateRangeStartInput [format]="dateFormat" placeholder="MM/DD/YYYY"
                        [(value)]="range.start"></kendo-dateinput>
                    <kendo-dateinput kendoDateRangeEndInput [format]="dateFormat" placeholder="MM/DD/YYYY"
                        [(value)]="range.end"></kendo-dateinput>
                    <kendo-daterange-popup [animate]="false">
                    </kendo-daterange-popup>
                </kendo-daterange>
                <button kendoButton (click)="getChartData()">
                    <i class="bi-arrow-clockwise"></i>
                </button>
            </div>
        </kendo-gridlayout-item>
        <kendo-gridlayout-item [row]="2" [col]="1">
            <kendo-card width="auto">
                <kendo-card-header>
                    Requests
                    <kendo-loader [type]="'pulsing'" [size]="'medium'" *ngIf="isTrackingCountLoading">
                    </kendo-loader>
                </kendo-card-header>
                <kendo-card-body>
                    <kendo-chart style="height:350px">
                        <kendo-chart-series>
                            <kendo-chart-series-item type="line" [data]="linkTrackingDateCount" field="requestCount"
                                categoryField="date"></kendo-chart-series-item>
                        </kendo-chart-series>

                        <kendo-chart-category-axis>
                            <kendo-chart-category-axis-item> </kendo-chart-category-axis-item>
                        </kendo-chart-category-axis>
                    </kendo-chart>
                </kendo-card-body>
            </kendo-card>
        </kendo-gridlayout-item>
        <kendo-gridlayout-item [row]="2" [col]="2">
            <kendo-card width="auto">
                <kendo-card-header>
                    Client types
                    <kendo-loader [type]="'pulsing'" [size]="'medium'" *ngIf="isClientTypeLoading">
                    </kendo-loader>
                </kendo-card-header>
                <kendo-card-body>
                    <kendo-chart style="height:350px">
                        <kendo-chart-legend [visible]="false"></kendo-chart-legend>
                        <kendo-chart-series>
                            <kendo-chart-series-item type="donut" [data]="clientTypeCount" field="count"
                                categoryField="clientTypeName">
                                <kendo-chart-series-item-labels [content]="labelContentClientTypeCount"
                                    position="outsideEnd" color="#333">
                                </kendo-chart-series-item-labels>
                            </kendo-chart-series-item>
                        </kendo-chart-series>
                    </kendo-chart>
                </kendo-card-body>
            </kendo-card>
        </kendo-gridlayout-item>
        <kendo-gridlayout-item [row]="2" [col]="3">
            <kendo-card width="auto">
                <kendo-card-header>
                    Most requested links
                    <kendo-loader [type]="'pulsing'" [size]="'medium'" *ngIf="isMostRequestedLinksLoading">
                    </kendo-loader>
                </kendo-card-header>
                <kendo-card-body>
                    <kendo-chart style="height:350px">
                        <kendo-chart-legend [visible]="false"></kendo-chart-legend>
                        <kendo-chart-series>
                            <kendo-chart-series-item type="pie" [data]="mostRequestedLinkCount" field="requestCount"
                                categoryField="note"
                                [labels]="{ visible: true, content: labelContentMostRequestedLinkCount }">
                            </kendo-chart-series-item>
                        </kendo-chart-series>
                    </kendo-chart>
                </kendo-card-body>
            </kendo-card>
        </kendo-gridlayout-item>
    </kendo-gridlayout>
</div>

<div class="container-fluid">
    <app-recent-requests></app-recent-requests>
</div>